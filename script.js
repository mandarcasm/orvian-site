const y=document.getElementById('year');if(y)y.textContent=new Date().getFullYear();const menu=document.getElementById('menu');const nav=document.querySelector('.nav');if(menu&&nav){menu.addEventListener('click',()=>{const e='flex'===nav.style.display;nav.style.display=e?'none':'flex'})}if(nav){const e=nav.querySelector('.underline'),t=nav.querySelectorAll('a:not(.cta)'),n=t=>{const n=t.getBoundingClientRect();e.style.width=n.width+'px',e.style.left=t.offsetLeft+'px'};t.forEach(e=>{e.addEventListener('mouseenter',()=>n(e))}),nav.addEventListener('mouseleave',()=>{e.style.width='0'})}const obs=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add('in'),obs.unobserve(e.target))})},{threshold:.15});document.querySelectorAll('.reveal').forEach(e=>obs.observe(e));const form=document.getElementById('enquiry');form&&form.addEventListener('submit',async e=>{e.preventDefault();const t=document.getElementById('status');t.textContent='Sendingâ€¦';try{const n=new FormData(form),a=await fetch(form.action,{method:'POST',body:n,headers:{Accept:'application/json'}});a.ok?(t.textContent='Thanks. We will respond shortly.',form.reset()):t.textContent='Failed to submit. Try again later.'}catch(e){t.textContent='Network error. Try again.'}});